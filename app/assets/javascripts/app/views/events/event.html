<div id = "venueSearch" ng-show="!(event.activePanel)">
  <p>Search for Venues here!</p>
  <form name = "venueSearchForm">  
    <div class = "form-group">
      <div ng-if = "venueSearchForm.city.$touched" ng-show = "venueSearchForm.city.$error.required"> Venue is required</div>
      <label>City: </label><input name = "city" type="text" required = "required" ng-model = "event.params.near"/><br>
    </div>
    <div class = "form-group">
      <div ng-if = "venueSearchForm.query.$touched" ng-show = "venueSearchForm.query.$error.required">Query is required</div>
      <label>Venue Type: </label><input name = "query" type = "text" required = "required" ng-model = "event.params.query" /><br>
    </div>
    <button type = "submit" ng-click = "event.findVenues()" ng-disabled = "!venueSearchForm.$valid">Submit</button>
  </form><br>
</div>


<div id = "resultWrapper" ng-show="!(event.activePanel)">
  <div id = "venueSearchResults" ng-show="(event.searchResults.length > 0)">
    <label>Filter Search Results: </label> <input type = "text" ng-model = "event.searchTerm" ng-change = "event.refilter()"/><br>
    <ul ng-show="(event.filteredList.length === 0)"><li>No venues found</li></ul>
    <div ng-show = "(event.filteredList.length > 0)" class = "venueList">
      <ul class = "results">
        <li ng-repeat = "venue in event.filteredList track by venue.id" >
          <div class = "venueItem">
            <div>{{venue.name}}</div>
              <ul>
                <li ng-repeat = "addressLine in venue.location.formattedAddress">{{addressLine}}</li>
              </ul>
            <div>Phone: {{venue.contact.formattedPhone}}</div>
            <div># of Foursquare users that visited: {{venue.stats.usersCount}}</div>
            <button class = "btn" ng-click = "event.selectVenue(venue)">Select Venue</button>
          </div><br>
        </li>
      </ul>
    </div>
  </div>
</div>
<ng-include src="'app/views/events/newEvent.html'"></ng-include>
