<div id = "venueSearch" ng-show="!(event.activePanel)">
  <p>Search for Venues here!</p>
  <form name = "venueSearchForm">  
    <div class = "form-group">
      <div ng-if = "venueSearchForm.city.$touched" ng-show = "venueSearchForm.city.$error.required"> Venue is required</div>
      <label>City: </label><input name = "city" type="text" required = "required" ng-model = "event.params.near"/><br>
    </div>
    <div class = "form-group">
      <div ng-if = "venueSearchForm.query.$touched" ng-show = "venueSearchForm.query.$error.required">Query is required</div>
      <label>Venue Type: </label><input name = "query" type = "text" required = "required" ng-model = "event.params.query" /><br>
    </div>
    <button type = "submit" ng-click = "event.findVenues()" ng-disabled = "!venueSearchForm.$valid">Submit</button>
  </form><br>
</div>

<div id = "resultWrapper" ng-show="!(event.activePanel)">
  <div id = "venueSearchResults" ng-show="(event.searchResults.length > 0)">
    <label>Filter Search Results: </label> <input type = "text" ng-model = "event.searchTerm" ng-change = "event.refilter()"/><br>
    <ul ng-show="(event.filteredList.length === 0)"><li>No venues found</li></ul>
    <div ng-show = "(event.filteredList.length > 0)" class = "venueList">
      <ul class = "results">
        <li ng-repeat = "venue in event.filteredList track by venue.id" class = "venueItem">
          <div>
            <div>{{venue.name}}</div>
              <ul>
                <li ng-repeat = "addressLine in venue.location.formattedAddress">{{addressLine}}</li>
              </ul>
            <div>Phone: {{venue.contact.formattedPhone}}</div>
            <div># of Foursquare users that visited: {{venue.stats.usersCount}}</div>
            <button class = "btn" ng-click = "event.selectVenue(venue)">Select Venue</button>
          </div><br>
        </li>
      </ul>
    </div>
  </div>
</div>

<div id = "eventFormPanel" ng-show = "event.activePanel">
  <div id = "venueDetails">
    <h3>Event</h3>
    <div>{{event.userEvent.venue.name}}</div>
      <ul>
        <li ng-repeat = "addressLine in event.userEvent.venue.location">{{addressLine}}</li>
      </ul>
    <div>Phone: {{event.userEvent.venue.contact}}</div>
  </div><br>

  <form name = "eventDetails">
    <div = "form-group">
      <div ng-if = "eventDetails.date.$touched" ng-show = "eventDetails.date.$error.required">Please insert a date</div>
      <label>Date: </label> <input name = "date" type = "text" required = "required" ng-model = "event.userEvent.date"/>
    </div><br>
    <div = "form-group">
      <div ng-if = "eventDetails.time.$touched" ng-show = "eventDetails.time.$error.required">Please insert a time</div>
      <label>Time: </label> <input name = "time" type = "text" required = "required" ng-model = "event.userEvent.time"/>
    </div><br>
    <div = "form-group">
      <div ng-if = "eventDetails.guests.$touched" ng-show = "eventDetails.guests.$error.required">Please insert number of guests</div>
      <label>Number of guests: </label> <input name = "guests" type = "number" required = "required" ng-model = "event.userEvent.guests"/>
    </div><br>
    <div = "form-group">
      <label>Notes: </label> <input name = "time" type = "textfield" cols = "80" rows = "20" ng-model = "event.userEvent.note"/><br>
    </div><br>
    <button class = "btn" ng-click = "event.submitEvent()">Submit Event</button>
    <button class = "btn" ng-click = "event.resetVenue()">Change Venue</button>
  </form>
</div>